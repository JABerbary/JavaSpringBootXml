{"ast":null,"code":"var _jsxFileName = \"/home/joseberbary/Documents/Workspace/teste_pratico/Front/src/components/Content/BulkFileXml.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport \"./Styles/content.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BulkFileXml() {\n  _s();\n  const [selectedMethod, setSelectedMethod] = useState(\"file\");\n  const [files, setFiles] = useState([]);\n  const [dragState, setDragState] = useState(false);\n  const [dropMsg, setDropMsg] = useState(\"Arraste o arquivo nesta área ou clique para fazer upload\");\n  const dropFileUpload = e => {\n    e.preventDefault();\n    const files = e.dataTransfer.files;\n    console.log(files);\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      const xmlContent = e.target.result;\n      handleSave(xmlContent);\n    };\n    reader.readAsText(files[0]);\n  };\n  const dragOverHandler = e => {};\n  const handleDragEnter = e => {\n    setDragState(true);\n  };\n  const handleDragLeave = e => {\n    setDragState(false);\n  };\n  const traditionalFileUpload = e => {\n    const selectedFiles = Array.from(e.target.files);\n    setFiles(selectedFiles);\n  };\n  const handleSave = xmlContent => {\n    if (xmlContent instanceof Blob) {\n      const reader = new FileReader();\n      reader.onload = function (event) {\n        const xmlText = event.target.result;\n        const xmlDoc = parser.parseFromString(xmlText, \"text/xml\");\n        const rootNode = xmlDoc.documentElement;\n        fetch(\"http://127.0.0.1:8080/processarxml\", {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/xml\",\n            \"Content-Type\": \"application/xml\"\n          },\n          body: xmlText // Envia o conteúdo do arquivo XML como texto\n        }).then(response => {\n          if (!response.ok) {\n            throw new Error(\"Failed to save XML\");\n          }\n          // Realizar alguma ação após o sucesso, se necessário\n        }).catch(error => {\n          console.error(\"Error saving XML:\", error);\n          // Tratar o erro, se necessário\n        });\n      };\n      reader.readAsText(xmlContent); // Lê o arquivo XML como texto\n    } else {\n      console.error(\"O parâmetro xmlContent não é um Blob válido.\");\n    }\n  };\n  const _textContent = value => {};\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onDrop: e => dropFileUpload(e),\n        onDragOver: e => dragOverHandler(e),\n        onDragEnter: e => handleDragEnter(e),\n        onDragLeave: e => handleDragLeave(e),\n        className: \"content-zone\",\n        children: [selectedMethod === \"file\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `info ${dragState && \"drop-enabled\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"drop-or-upload\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fileUpload\",\n                className: \"custom-link\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"fileUpload\",\n                  type: \"file\",\n                  hidden: true,\n                  accept: \"application/xml\",\n                  onChange: e => traditionalFileUpload(e),\n                  multiple: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this), dropMsg]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), files && files.length > 0 && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"file-name\",\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Arquivo(s) selecionado(s):\", /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: files.map((f, i) => {\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: f.name\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 32\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), selectedMethod === \"text\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"text-box\",\n            placeholder: \"Cole o conte\\xFAdo do XML aqui\",\n            onChange: e => _textContent(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: \"buttonContainer\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleSave,\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(BulkFileXml, \"bkSk4b+qhwZHyKe7NDk72yrA9ck=\");\n_c = BulkFileXml;\nvar _c;\n$RefreshReg$(_c, \"BulkFileXml\");","map":{"version":3,"names":["React","useState","Box","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","BulkFileXml","_s","selectedMethod","setSelectedMethod","files","setFiles","dragState","setDragState","dropMsg","setDropMsg","dropFileUpload","e","preventDefault","dataTransfer","console","log","reader","FileReader","onload","xmlContent","target","result","handleSave","readAsText","dragOverHandler","handleDragEnter","handleDragLeave","traditionalFileUpload","selectedFiles","Array","from","Blob","event","xmlText","xmlDoc","parser","parseFromString","rootNode","documentElement","fetch","method","headers","Accept","body","then","response","ok","Error","catch","error","_textContent","value","children","className","onDrop","onDragOver","onDragEnter","onDragLeave","htmlFor","id","type","hidden","accept","onChange","multiple","fileName","_jsxFileName","lineNumber","columnNumber","length","map","f","i","name","placeholder","variant","color","onClick","_c","$RefreshReg$"],"sources":["/home/joseberbary/Documents/Workspace/teste_pratico/Front/src/components/Content/BulkFileXml.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport \"./Styles/content.scss\";\n\nexport default function BulkFileXml() {\n  const [selectedMethod, setSelectedMethod] = useState(\"file\");\n  const [files, setFiles] = useState([]);\n  const [dragState, setDragState] = useState(false);\n  const [dropMsg, setDropMsg] = useState(\n    \"Arraste o arquivo nesta área ou clique para fazer upload\"\n  );\n  const dropFileUpload = (e) => {\n    e.preventDefault();\n    const files = e.dataTransfer.files;\n    console.log(files);\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      const xmlContent = e.target.result;\n      handleSave(xmlContent);\n    };\n    reader.readAsText(files[0]);\n  };\n\n  const dragOverHandler = (e) => {};\n\n  const handleDragEnter = (e) => {\n    setDragState(true);\n  };\n\n  const handleDragLeave = (e) => {\n    setDragState(false);\n  };\n\n  const traditionalFileUpload = (e) => {\n    const selectedFiles = Array.from(e.target.files);\n    setFiles(selectedFiles);\n  };\n  const handleSave = (xmlContent) => {\n    if (xmlContent instanceof Blob) {\n      const reader = new FileReader();\n\n      reader.onload = function (event) {\n        const xmlText = event.target.result;\n\n        const xmlDoc = parser.parseFromString(xmlText, \"text/xml\");\n        const rootNode = xmlDoc.documentElement;\n\n        fetch(\"http://127.0.0.1:8080/processarxml\", {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/xml\",\n            \"Content-Type\": \"application/xml\",\n          },\n          body: xmlText, // Envia o conteúdo do arquivo XML como texto\n        })\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(\"Failed to save XML\");\n            }\n            // Realizar alguma ação após o sucesso, se necessário\n          })\n          .catch((error) => {\n            console.error(\"Error saving XML:\", error);\n            // Tratar o erro, se necessário\n          });\n      };\n\n      reader.readAsText(xmlContent); // Lê o arquivo XML como texto\n    } else {\n      console.error(\"O parâmetro xmlContent não é um Blob válido.\");\n    }\n  };\n  const _textContent = (value) => {};\n\n  return (\n    <>\n      <div className=\"container\">\n        <div\n          onDrop={(e) => dropFileUpload(e)}\n          onDragOver={(e) => dragOverHandler(e)}\n          onDragEnter={(e) => handleDragEnter(e)}\n          onDragLeave={(e) => handleDragLeave(e)}\n          className=\"content-zone\"\n        >\n          {selectedMethod === \"file\" && (\n            <div className={`info ${dragState && \"drop-enabled\"}`}>\n              <div className=\"drop-or-upload\">\n                <h3>\n                  <label htmlFor=\"fileUpload\" className=\"custom-link\">\n                    <input\n                      id=\"fileUpload\"\n                      type=\"file\"\n                      hidden\n                      accept=\"application/xml\"\n                      onChange={(e) => traditionalFileUpload(e)}\n                      multiple\n                    />\n                    {dropMsg}\n                  </label>\n                </h3>\n              </div>\n              {files && files.length > 0 && (\n                <small className=\"file-name\">\n                  <>\n                    Arquivo(s) selecionado(s):\n                    <ul>\n                      {files.map((f, i) => {\n                        return <li key={i}>{f.name}</li>;\n                      })}\n                    </ul>\n                  </>\n                </small>\n              )}\n            </div>\n          )}\n          {selectedMethod === \"text\" && (\n            <>\n              <textarea\n                className=\"text-box\"\n                placeholder=\"Cole o conteúdo do XML aqui\"\n                onChange={(e) => _textContent(e.target.value)}\n              />\n            </>\n          )}\n        </div>\n      </div>\n      <Box className=\"buttonContainer\">\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSave}>\n          Salvar\n        </Button>\n      </Box>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}